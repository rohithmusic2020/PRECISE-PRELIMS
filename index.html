<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Prelims Precise - Feb 2025 (Reframed)</title>
<style>
  body{font-family:system-ui,Segoe UI,Roboto,Arial;background:#f6f5f3;margin:0;color:#0f172a}
  .wrap{max-width:1100px;margin:20px auto;display:grid;grid-template-columns:1fr 260px;gap:18px;padding:14px}
  header{grid-column:1/-1;display:flex;justify-content:space-between;align-items:center;background:#fff;border-radius:10px;box-shadow:0 8px 24px rgba(15,23,42,0.06);padding:12px 16px}
  header h1{margin:0;font-size:18px}
  .timer{color:#b91c1c;font-weight:700}
  .main{overflow:auto;padding-right:8px}
  #start-card{background:#fff;padding:22px;border-radius:10px;box-shadow:0 8px 24px rgba(15,23,42,0.04);text-align:center;border:1px solid #f0f0f3}
  input[type=text]{width:72%;padding:10px;border:1px solid #e8e8ef;border-radius:8px;margin-bottom:12px}
  button{cursor:pointer;border:none;border-radius:8px;font-weight:600}
  .btn{background:linear-gradient(180deg,#7b5cff,#5a43d9);color:#fff;padding:10px 14px}
  .ghost{background:transparent;border:1px solid #ddd;padding:8px 10px}
  .question{background:#fff;padding:14px;border-radius:10px;margin-bottom:14px;box-shadow:0 6px 18px rgba(15,23,42,0.04);border:1px solid #f0f0f3}
  .question h3{margin:0 0 10px;font-size:15px}
  label.option{display:block;padding:10px;border-radius:8px;border:1px solid transparent;margin-bottom:8px;cursor:pointer}
  label.option:hover{background:#fbf8ff}
  label.option input{margin-right:10px}
  .tracker{background:#fff;padding:12px;border-radius:10px;box-shadow:0 8px 24px rgba(15,23,42,0.04);height:calc(100vh - 120px);position:sticky;top:60px;border:1px solid #f0f0f3;overflow:auto}
  .tracker h4{margin:6px 0 10px;color:#666;text-align:center;font-size:14px}
  .grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
  .num{width:42px;height:42px;border-radius:8px;display:flex;align-items:center;justify-content:center;background:#e6e7eb;font-weight:700;cursor:pointer}
  .num.attempted{background:#10b981;color:#fff}
  .num.active{background:#7b5cff;color:#fff;box-shadow:0 6px 18px rgba(123,92,255,0.12)}
  .result{background:#fff;padding:14px;border-radius:10px;box-shadow:0 8px 24px rgba(15,23,42,0.04);margin-top:12px;border:1px solid #f0f0f3}
  .key{padding-left:18px}
  .controls{display:flex;gap:8px;justify-content:center;margin-top:12px}
  @media(max-width:980px){.wrap{grid-template-columns:1fr}.tracker{position:static;height:auto;margin-top:12px}}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>Prelims Precise - Feb 2025</h1>
    <div class="timer">Time Left: <span id="timer">60:00</span></div>
  </header>

  <section class="main">
    <div id="start-card">
      <div style="color:#555;margin-bottom:8px">Enter your full name to begin</div>
      <input id="name" type="text" placeholder="Your full name" autocomplete="off"/><br>
      <button id="startButton" class="btn">Start Quiz</button>
      <div style="color:#777;font-size:13px;margin-top:10px">50 Qs • +2 / −0.66 / 0 • Key shown after submission</div>
    </div>

    <div id="quiz-section" style="display:none">
      <div id="questions-root"></div>
      <div style="text-align:center;margin-top:12px">
        <button id="submitButton" class="btn">Submit Quiz</button>
      </div>
      <div id="result" class="result" style="display:none"></div>
    </div>
  </section>

  <aside class="tracker" id="tracker">
    <h4>Navigator</h4>
    <div class="grid" id="tracker-grid"></div>
    <div class="controls">
      <button id="btn-top" class="ghost">Top</button>
    </div>
  </aside>
</div>

<script>
/* Example question set – replace with your 50 UPSC-style Qs if needed */
const QUESTIONS=[
 {q:"Consider the following statements about the doctrine of 'pith and substance': 1. It is used to determine the true nature of legislation when classification under legislative lists is in doubt. 2. The doctrine allows the legislature to enact laws outside its competence if the dominant feature falls within its competence. 3. It is applied only in cases involving fundamental rights. How many of the statements given above are correct?",options:["1 and 2 only","1 only","2 and 3 only","All three"],answer:0},
 {q:"With reference to Article 356 of the Constitution, consider the following statements: 1. The President can impose President’s Rule only upon the written request of the Governor. 2. The imposition of President’s Rule can be challenged in the Supreme Court on ground of mala fides. 3. Parliament’s approval is required for continuance beyond two months. Which of the statements is/are correct?",options:["2 only","1 and 2 only","2 and 3 only","1, 2 and 3"],answer:0},
 {q:"The doctrine of basic structure in Indian Constitution acts as:",options:["A limitation on Parliament's amending power","An explicit clause in the Constitution","A principle permitting abolition of judicial review","A rule under Article 370"],answer:0},
 {q:"With reference to Soil Health Card Scheme, which of the following are correct? 1. It provides nutrient status of soil. 2. It ensures MSP. 3. It helps precision nutrient management.",options:["1 and 3 only","1 only","2 only","All three"],answer:0}
];
QUESTIONS.sort(()=>Math.random()-0.5);

let candidateName='',timeLeft=60*60,timerInterval=null;
const $=id=>document.getElementById(id);

function renderQuestions(){
 const root=$('questions-root');root.innerHTML='';
 QUESTIONS.forEach((q,i)=>{
  const div=document.createElement('div');
  div.className='question';div.id='q'+i;
  div.innerHTML=`<h3>Q${i+1}. ${q.q}</h3>`+
   q.options.map((opt,j)=>`<label class="option"><input type="radio" name="q${i}" value="${j}" onchange="markAttempt(${i})"> ${opt}</label>`).join('');
  root.appendChild(div);
 });
}
function renderTracker(){
 const grid=$('tracker-grid');grid.innerHTML='';
 QUESTIONS.forEach((_,i)=>{
  const b=document.createElement('div');
  b.className='num';b.textContent=i+1;
  b.addEventListener('click',()=>{const el=$('q'+i);if(el)el.scrollIntoView({behavior:'smooth',block:'center'});});
  grid.appendChild(b);
 });
}
function markAttempt(i){
 const n=document.querySelectorAll('.num')[i];if(n)n.classList.add('attempted');
}
function highlightOnScroll(){
 const qs=document.querySelectorAll('.question');let active=0;
 const mid=window.innerHeight/2;
 qs.forEach((el,i)=>{const r=el.getBoundingClientRect();if(r.top<mid&&r.bottom>100)active=i;});
 const nums=document.querySelectorAll('.num');nums.forEach(n=>n.classList.remove('active'));
 if(nums[active])nums[active].classList.add('active');
}
function startTimer(){
 const t=$('timer');
 timerInterval=setInterval(()=>{
  const m=Math.floor(timeLeft/60),s=timeLeft%60;
  t.textContent=`${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  timeLeft--;
  if(timeLeft<0){clearInterval(timerInterval);submitQuiz(true);alert('Time up — quiz auto-submitted.');}
 },1000);
}
function submitQuiz(auto=false){
 clearInterval(timerInterval);
 let score=0,correct=0,wrong=0,unattempted=0;
 QUESTIONS.forEach((q,i)=>{
  const sel=document.querySelector(`input[name="q${i}"]:checked`);
  if(!sel){unattempted++;return;}
  const val=parseInt(sel.value);
  if(val===q.answer){score+=2;correct++;}else{score-=0.66;wrong++;}
 });
 const total=QUESTIONS.length;
 const res=$('result');
 res.style.display='block';
 res.innerHTML=`
  <h2>${candidateName}</h2>
  <p><strong>Total Questions:</strong> ${total}</p>
  <p><strong>Correct:</strong> ${correct}</p>
  <p><strong>Incorrect:</strong> ${wrong}</p>
  <p><strong>Unattempted:</strong> ${unattempted}</p>
  <p><strong>Final Score:</strong> ${score.toFixed(2)}</p>
  <hr><h3>Answer Key</h3>
  <ol class="key">${QUESTIONS.map((q,i)=>`<li>Q${i+1}: ${q.options[q.answer]}</li>`).join('')}</ol>`;
 $('quiz-section').style.display='none';
 setTimeout(()=>res.scrollIntoView({behavior:'smooth'}),300);
}
document.addEventListener('DOMContentLoaded',()=>{
 renderTracker();
 const startBtn=$('startButton'),submitBtn=$('submitButton'),nameInput=$('name');
 if(startBtn){
  startBtn.addEventListener('click',()=>{
   const nm=nameInput.value.trim();
   if(!nm){alert('Please enter your name');nameInput.focus();return;}
   candidateName=nm;
   renderQuestions();renderTracker();
   $('start-card').style.display='none';
   $('quiz-section').style.display='block';
   startTimer();
   window.addEventListener('scroll',highlightOnScroll,{passive:true});
   setTimeout(highlightOnScroll,300);
  });
 }
 if(submitBtn)submitBtn.addEventListener('click',()=>{if(confirm('Submit quiz now?'))submitQuiz(false);});
 const btnTop=$('btn-top');if(btnTop)btnTop.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));
});
</script>
</body>
</html>
